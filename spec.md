# SPEC-1-wiselist

## Background

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–∫–∏ –ø–æ–∫—É–ø–æ–∫, –¥–µ–ª –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ß–∞—Å—Ç–æ —Ç–∞–∫–∏–µ —Å–ø–∏—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ ‚Äî –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞, –ø–æ –¥–æ—Ä–æ–≥–µ –¥–æ–º–æ–π –∏–ª–∏ –≤–æ –≤—Ä–µ–º—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–Ω—è. –ü—Ä–æ–µ–∫—Ç **wiselist** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å, –¥–µ–ª–∏—Ç—å—Å—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –≤–∫–ª—é—á–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ–∑–Ω—É—é –ø—Ä–∏–≤—ã—á–∫—É –≤–µ—Å—Ç–∏ —Å–ø–∏—Å–∫–∏.

## Requirements

### Must Have
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google / Apple ID
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ —Å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º –∏ —Ç–∏–ø–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫—É–ø–∫–∏, –∑–∞–¥–∞—á–∏)
- –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ª–∏—Ç—å—Å—è —Å–ø–∏—Å–∫–æ–º —Å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞
- –û—Ñ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç–∞ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥
- –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ PostgreSQL —á–µ—Ä–µ–∑ Prisma

### Should Have
- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 2‚Äì3 –¥–Ω—è
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–ø–∏—Å–∫–∞
- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–ø–∏—Å–∫–µ (–≤–ª–∞–¥–µ–ª–µ—Ü, —Ä–µ–¥–∞–∫—Ç–æ—Ä, —á–∏—Ç–∞—Ç–µ–ª—å)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã

### Could Have
- –ò–∫–æ–Ω–∫–∏ –∏ —Ç–µ–≥–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–ø–∏—Å–∫–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º

### Won‚Äôt Have (–≤ MVP)
- –ü—É–±–ª–∏—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏
- –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## Method

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```plantuml
@startuml
!define RECTANGLE class

RECTANGLE MobileApp {
  Ionic Vue3
  RxJS (Offline state mgmt)
  Speech-to-Text UI
}

RECTANGLE Backend {
  NestJS
  Prisma ORM
  Auth (Google / Apple)
  AI Command Parser
  Notification Scheduler
}

RECTANGLE DB {
  PostgreSQL
  Tables:
  - users
  - lists
  - list_items
  - user_list_access
  - notifications
}

RECTANGLE ExternalServices {
  Google / Apple OAuth
  OpenAI API
  Firebase Cloud Messaging
}

MobileApp --> Backend : REST / WebSocket
Backend --> DB : Prisma
Backend --> ExternalServices : OAuth / AI API / FCM
@enduml
```

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```plantuml
@startuml
entity User {
  id UUID PK
  email string
  name string
  avatarUrl string
  provider enum (google, apple)
  createdAt datetime
}

entity List {[WISELIST-implementation.md](../../Downloads/WISELIST-implementation.md)
  id UUID PK
  title string
  type enum (shopping, todo, other)
  ownerId UUID FK -> User.id
  createdAt datetime
  updatedAt datetime
}

entity ListItem {
  id UUID PK
  listId UUID FK -> List.id
  content string
  checked boolean
  createdAt datetime
  updatedAt datetime
}

entity UserListAccess {
  id UUID PK
  userId UUID FK -> User.id
  listId UUID FK -> List.id
  role enum (owner, editor, viewer)
  invitedBy UUID FK -> User.id
  createdAt datetime
}

entity Notification {
  id UUID PK
  userId UUID FK -> User.id
  type enum (invite, reminder)
  payload JSONB
  read boolean
  createdAt datetime
}
@enduml

```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ò–ò-–∫–æ–º–∞–Ω–¥

```plantuml
@startuml
actor User
User -> MobileApp : –ì–æ–ª–æ—Å–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞
MobileApp -> OpenAI STT : –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
OpenAI STT -> MobileApp : –¢–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥—ã
MobileApp -> Backend (NestJS) : –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã
Backend -> OpenAI GPT : –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
OpenAI GPT -> Backend : Intent + entities
Backend -> DB : –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ / –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
Backend -> FCM : –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
Backend -> MobileApp : –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫)
@enduml

```

## Implementation

### –≠—Ç–∞–ø 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- NestJS backend + PostgreSQL —á–µ—Ä–µ–∑ Prisma
- Google / Apple OAuth
- FCM push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–∞ (Ionic Vue 3 + RxJS)

### –≠—Ç–∞–ø 2: –°–ø–∏—Å–∫–∏ –∏ –æ—Ñ—Ñ–ª–∞–π–Ω
- CRUD —Å–ø–∏—Å–∫–æ–≤ –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –°–æ–≤–º–µ—Å—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏ –¥–µ–ª–µ–∂–∫–∞
- –û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- WebSocket –∏–ª–∏ polling –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 3: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—É—à–∏ –ø—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è—Ö
- Cron –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

### –≠—Ç–∞–ø 4: –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
- STT (Web Speech API –∏–ª–∏ Whisper)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI –¥–ª—è NLP
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ–Ω—Ç–æ–≤: `add_items`, `share_list`, `show_list`, –∏ —Ç.–¥.

### –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- UI-–ø–æ–ª–∏—Ä–æ–≤–∫–∞
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
- Unit –∏ e2e —Ç–µ—Å—Ç—ã

## Milestones

| –ú–µ—Å—è—Ü | –í–µ—Ö–∞ | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|-------|------|------------|
| 1     | üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | NestJS + PostgreSQL, OAuth, Prisma |
| 1‚Äì2   | üóÇ **–°–ø–∏—Å–∫–∏ –∏ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º** | CRUD, —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø, RxJS sync |
| 2     | üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** | FCM, push-–∏–Ω–≤–∞–π—Ç—ã, –º–æ—Ç–∏–≤–∞—Ü–∏—è |
| 2‚Äì3   | üß† **–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (MVP)** | STT ‚Üí OpenAI ‚Üí –∏–Ω—Ç–µ–Ω—Ç—ã |
| 3     | üé® **UX-–ø–æ–ª–∏—Ä–æ–≤–∫–∞ + —Ç–µ—Å—Ç—ã** | UI, —Ç–µ—Å—Ç—ã, –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ |
| 3‚Äì4   | üöÄ **–ü–∏–ª–æ—Ç–Ω—ã–π —Ä–µ–ª–∏–∑ MVP** | –ë–µ—Ç–∞-—Ç–µ—Å—Ç –∏ –∑–∞–ø—É—Å–∫ |

## Gathering Results

–ü–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞:
- –°–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ç–∏–ø–∞ PostHog/Firebase)
- –û—Ü–µ–Ω–∫–∞ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏ (–ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–µ—Å—Å–∏–∏, –ø—Ä–∏–Ω—è—Ç—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
- NPS-–æ–ø—Ä–æ—Å—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ STT –∏ NLP –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö


